\hypertarget{federate_8h}{}\doxysection{/home/shaokai/lingua-\/franca-\/master/git/lingua-\/franca/org.lflang/src/lib/core/federate.h File Reference}
\label{federate_8h}\index{/home/shaokai/lingua-\/franca-\/master/git/lingua-\/franca/org.lflang/src/lib/core/federate.h@{/home/shaokai/lingua-\/franca-\/master/git/lingua-\/franca/org.lflang/src/lib/core/federate.h}}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structfederate__instance__t}{federate\+\_\+instance\+\_\+t}}
\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{federate_8h_a2312893474cb0415e16af40b1de063ca}\label{federate_8h_a2312893474cb0415e16af40b1de063ca}} 
\#define {\bfseries A\+D\+V\+A\+N\+C\+E\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+I\+N\+T\+E\+R\+V\+AL}~M\+S\+EC(10)
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \mbox{\hyperlink{structfederate__instance__t}{federate\+\_\+instance\+\_\+t}} \mbox{\hyperlink{federate_8h_a675c841ec6a29e45cacc71b61ef8d270}{federate\+\_\+instance\+\_\+t}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{federate_8h_ad83fe9661682934029a42954b8fe6e2f}{synchronize\+\_\+with\+\_\+other\+\_\+federates}} ()
\item 
void \mbox{\hyperlink{federate_8h_a5ec362a10173f606cdd994fc6ba4e2e9}{wait\+\_\+until\+\_\+port\+\_\+status\+\_\+known}} (int port\+ID, \mbox{\hyperlink{tag_8h_a181bf532390385b9092615f354cccf87}{interval\+\_\+t}} S\+TP)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyAuthor}{Author}
Edward A. Lee (\href{mailto:eal@berkeley.edu}{\texttt{ eal@berkeley.\+edu}})
\end{DoxyAuthor}
\hypertarget{util_8h_LICENSE}{}\doxysubsection{L\+I\+C\+E\+N\+SE}\label{util_8h_LICENSE}
Copyright (c) 2020, The University of California at Berkeley.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met\+:


\begin{DoxyEnumerate}
\item Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
\item Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
\end{DoxyEnumerate}

T\+H\+IS S\+O\+F\+T\+W\+A\+RE IS P\+R\+O\+V\+I\+D\+ED BY T\+HE C\+O\+P\+Y\+R\+I\+G\+HT H\+O\+L\+D\+E\+RS A\+ND C\+O\+N\+T\+R\+I\+B\+U\+T\+O\+RS \char`\"{}\+A\+S I\+S\char`\"{} A\+ND A\+NY E\+X\+P\+R\+E\+SS OR I\+M\+P\+L\+I\+ED W\+A\+R\+R\+A\+N\+T\+I\+ES, I\+N\+C\+L\+U\+D\+I\+NG, B\+UT N\+OT L\+I\+M\+I\+T\+ED TO, T\+HE I\+M\+P\+L\+I\+ED W\+A\+R\+R\+A\+N\+T\+I\+ES OF M\+E\+R\+C\+H\+A\+N\+T\+A\+B\+I\+L\+I\+TY A\+ND F\+I\+T\+N\+E\+SS F\+OR A P\+A\+R\+T\+I\+C\+U\+L\+AR P\+U\+R\+P\+O\+SE A\+RE D\+I\+S\+C\+L\+A\+I\+M\+ED. IN NO E\+V\+E\+NT S\+H\+A\+LL T\+HE C\+O\+P\+Y\+R\+I\+G\+HT H\+O\+L\+D\+ER OR C\+O\+N\+T\+R\+I\+B\+U\+T\+O\+RS BE L\+I\+A\+B\+LE F\+OR A\+NY D\+I\+R\+E\+CT, I\+N\+D\+I\+R\+E\+CT, I\+N\+C\+I\+D\+E\+N\+T\+AL, S\+P\+E\+C\+I\+AL, E\+X\+E\+M\+P\+L\+A\+RY, OR C\+O\+N\+S\+E\+Q\+U\+E\+N\+T\+I\+AL D\+A\+M\+A\+G\+ES (I\+N\+C\+L\+U\+D\+I\+NG, B\+UT N\+OT L\+I\+M\+I\+T\+ED TO, P\+R\+O\+C\+U\+R\+E\+M\+E\+NT OF S\+U\+B\+S\+T\+I\+T\+U\+TE G\+O\+O\+DS OR S\+E\+R\+V\+I\+C\+ES; L\+O\+SS OF U\+SE, D\+A\+TA, OR P\+R\+O\+F\+I\+TS; OR B\+U\+S\+I\+N\+E\+SS I\+N\+T\+E\+R\+R\+U\+P\+T\+I\+ON) H\+O\+W\+E\+V\+ER C\+A\+U\+S\+ED A\+ND ON A\+NY T\+H\+E\+O\+RY OF L\+I\+A\+B\+I\+L\+I\+TY, W\+H\+E\+T\+H\+ER IN C\+O\+N\+T\+R\+A\+CT, S\+T\+R\+I\+CT L\+I\+A\+B\+I\+L\+I\+TY, OR T\+O\+RT (I\+N\+C\+L\+U\+D\+I\+NG N\+E\+G\+L\+I\+G\+E\+N\+CE OR O\+T\+H\+E\+R\+W\+I\+SE) A\+R\+I\+S\+I\+NG IN A\+NY W\+AY O\+UT OF T\+HE U\+SE OF T\+H\+IS S\+O\+F\+T\+W\+A\+RE, E\+V\+EN IF A\+D\+V\+I\+S\+ED OF T\+HE P\+O\+S\+S\+I\+B\+I\+L\+I\+TY OF S\+U\+CH D\+A\+M\+A\+GE.\hypertarget{util_8h_DESCRIPTION}{}\doxysubsection{D\+E\+S\+C\+R\+I\+P\+T\+I\+ON}\label{util_8h_DESCRIPTION}
Data structures and functions used and defined in \mbox{\hyperlink{federate_8c}{federate.\+c}}. 

\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{federate_8h_a675c841ec6a29e45cacc71b61ef8d270}\label{federate_8h_a675c841ec6a29e45cacc71b61ef8d270}} 
\index{federate.h@{federate.h}!federate\_instance\_t@{federate\_instance\_t}}
\index{federate\_instance\_t@{federate\_instance\_t}!federate.h@{federate.h}}
\doxysubsubsection{\texorpdfstring{federate\_instance\_t}{federate\_instance\_t}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{structfederate__instance__t}{federate\+\_\+instance\+\_\+t}} \mbox{\hyperlink{structfederate__instance__t}{federate\+\_\+instance\+\_\+t}}}

Structure that a federate instance uses to keep track of its own state. 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{federate_8h_ad83fe9661682934029a42954b8fe6e2f}\label{federate_8h_ad83fe9661682934029a42954b8fe6e2f}} 
\index{federate.h@{federate.h}!synchronize\_with\_other\_federates@{synchronize\_with\_other\_federates}}
\index{synchronize\_with\_other\_federates@{synchronize\_with\_other\_federates}!federate.h@{federate.h}}
\doxysubsubsection{\texorpdfstring{synchronize\_with\_other\_federates()}{synchronize\_with\_other\_federates()}}
{\footnotesize\ttfamily void synchronize\+\_\+with\+\_\+other\+\_\+federates (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Synchronize the start with other federates via the R\+TI. This assumes that a connection to the R\+TI is already made and \+\_\+lf\+\_\+rti\+\_\+socket\+\_\+\+T\+CP is valid. It then sends the current logical time to the R\+TI and waits for the R\+TI to respond with a specified time. It starts a thread to listen for messages from the R\+TI. It then waits for physical time to match the specified time, sets current logical time to the time returned by the R\+TI, and then returns. If --fast was specified, then this does not wait for physical time to match the logical start time returned by the R\+TI.

Synchronize the start with other federates via the R\+TI. This assumes that a connection to the R\+TI is already made and \+\_\+fed.\+socket\+\_\+\+T\+C\+P\+\_\+\+R\+TI is valid. It then sends the current logical time to the R\+TI and waits for the R\+TI to respond with a specified time. It starts a thread to listen for messages from the R\+TI. It then waits for physical time to match the specified time, sets current logical time to the time returned by the R\+TI, and then returns. If --fast was specified, then this does not wait for physical time to match the logical start time returned by the R\+TI.

F\+I\+X\+ME\+: Possibly should be renamed \mbox{\Hypertarget{federate_8h_a5ec362a10173f606cdd994fc6ba4e2e9}\label{federate_8h_a5ec362a10173f606cdd994fc6ba4e2e9}} 
\index{federate.h@{federate.h}!wait\_until\_port\_status\_known@{wait\_until\_port\_status\_known}}
\index{wait\_until\_port\_status\_known@{wait\_until\_port\_status\_known}!federate.h@{federate.h}}
\doxysubsubsection{\texorpdfstring{wait\_until\_port\_status\_known()}{wait\_until\_port\_status\_known()}}
{\footnotesize\ttfamily void wait\+\_\+until\+\_\+port\+\_\+status\+\_\+known (\begin{DoxyParamCaption}\item[{int}]{port\+\_\+\+ID,  }\item[{\mbox{\hyperlink{tag_8h_a181bf532390385b9092615f354cccf87}{interval\+\_\+t}}}]{S\+TP }\end{DoxyParamCaption})}

Wait until the status of network port \char`\"{}port\+I\+D\char`\"{} can be determined.

In decentralized coordination mode, the wait time is capped by \char`\"{}\+S\+T\+P\char`\"{}, after which the status of the port is presumed to be absent.


\begin{DoxyParams}{Parameters}
{\em port\+ID} & The ID of the network port \\
\hline
{\em S\+TP} & The S\+TP offset of the port\\
\hline
\end{DoxyParams}
Wait until the status of network port \char`\"{}port\+\_\+\+I\+D\char`\"{} is known.

In decentralized coordination mode, the wait time is capped by \char`\"{}\+S\+T\+P\char`\"{}, after which the status of the port is presumed to be absent.

This function assumes the holder does not hold a mutex.


\begin{DoxyParams}{Parameters}
{\em port\+\_\+\+ID} & The ID of the network port \\
\hline
{\em S\+TP} & The S\+TP offset of the port \\
\hline
\end{DoxyParams}
